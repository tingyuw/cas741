\documentclass[12pt, titlepage]{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{siunitx}
\hypersetup{
    colorlinks,
    citecolor=blue,
    filecolor=black,
    linkcolor=red,
    urlcolor=cyan
}
\usepackage[round]{natbib}

\input{../Comments}
\input{../Common}

\begin{document}

\title{System Verification and Validation Plan for Truss} 
\author{Ting-Yu Wu}
\date{\today}
	
\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3.5cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
October 29, 2020 & 1.0 & Initial version of VnV plan\\
December 6, 2020 & 1.1 & Modification according to feedback\\
December 8, 2020 & 2.0 & Add unit test description\\
\bottomrule
\end{tabularx}

\newpage

\tableofcontents

\listoftables

\newpage

\section{Symbols, Abbreviations and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
  \toprule		
  \textbf{symbol} & \textbf{description}\\
  \midrule 
  FR & Functional Requirements\\
  NFR & Nonfunctional Requirements\\
  R & Requirements\\
  SRS & Software Requirements Specification\\
  VnV & Verification and Validation\\
  \bottomrule
\end{tabular}\\


\newpage

\pagenumbering{arabic}

This document provides an overview of the Verification and Validation (VnV) 
plan for Truss. The general information is introduced in section \ref{Geninf}. 
Verification plans and test description are in section \ref{verplan} and 
section \ref{sysdescript}, respectively.

\section{General Information} \label{Geninf}

\subsection{Summary}

The software being test in this document is Truss. Users can provide the 
external force and define the properties of the truss structure by giving the 
distances and angles. The software will calculate all the internal forces 
within truss members and output the result with a .txt file. 


\subsection{Objectives}
The objective of the VnV plan is to verify the FR and NFR described in the SRS. 
We will test all the functional requirements and nonfunctional requirements in 
Section \ref{sysdescript}. The most important goals are building confidence 
in the software correctness and increasing the reliability of the software. 

\subsection{Relevant Documentation}

\begin{itemize}
	\item 
	\href{https://github.com/tingyuw/cas741/blob/master/docs/ProblemStatement/ProblemStatement.pdf}{Problem
	 Statement}
	\item Manual
	\href{https://github.com/tingyuw/cas741/blob/master/docs/SRS/SRS.pdf}{SRS} 
	for Truss
	\item Drasil-generated 
	\href{https://github.com/tingyuw/cas741/tree/master/docs/Drasil}{SRS}
	\item Drasil-generated code
	\item VnV report
\end{itemize}
\an{Hyperlink will be included after building}


\section{Plan} \label{verplan}
This section lists the VnV plan of Truss. Section \ref{VnVteam} introduces the 
members of the VnV team. Verification plans of SRS, design, and implementation 
are covered in section \ref{SRSplan}, section \ref{designplan}, and section 
\ref{implplan}, respectively. Section \ref{autotool} outlines the tools that 
are used for automated testing. Section \ref{sftwareplan} outlines the 
validation plan of the software.

\subsection{Verification and Validation Team} \label{VnVteam}
This section lists the members of verification and validation team.
\begin{itemize}
	\item Ting-Yu Wu review the whole project as the author.
	\item Dr. Spencer Smith and Dr. Jacques Carette review the whole project as 
	supervisors. 
	\item Tiago de Moraes Machado reviews the whole project as a domain 
	reviewer.
	\item Xuanming Yan reviews the SRS as a secondary reviewer.
	\item Mohamed AbuElAla reviews the VnV plan as a secondary reviewer.
	\item Andrea Clemeno reviews the Drasil generated SRS as a secondary 
	reviewer.
\end{itemize}

\subsection{SRS Verification Plan} \label{SRSplan}
The SRS will be reviewed by Dr. Smith, Dr. Carette, Tiago, and Xuanming. Roles 
of each reviewer are mentioned in \ref{VnVteam}. Reviewers can give feedbacks 
and revision suggestions to the author by creating issues on GitHub. It is 
author's responsibility to check the submitted issues regularly and make 
necessary revisions.

\subsection{Design Verification Plan} \label{designplan}
There is no manual verification plan for this project since the software are 
auto-generated by the \href{https://github.com/JacquesCarette/Drasil}{Drasil}. 

\subsection{Implementation Verification Plan} \label{implplan}
The implementation verification plan includes the followings:
\begin{itemize}
	\item Code walkthroughs. The rubber duck debugging 
	\cite{Rubberduckdebugging} method will be implemented by the author. The 
	procedure involve explaining the code line by line to the duck, including 
	the flow of the whole functions and methods. Go into detail of all the 
	intermediate states and transitions. If any defect is noticed during the 
	process, trace	back to its source, find out where does the code first go 
	wrong, and fix it.  
	\item Expert review. This verification will be performed by individuals in 
	the verification and validation team, as listed in section \ref{VnVteam}, 
	by paying close attention and looking for potential implementation errors. 
	\item Unit testing. Tool we used for unit testing is PyUnit, the python 
	unit testing framework. More details are outlined in section 
	\ref{unitdescript}.
\end{itemize}

\subsection{Automated Testing and Verification Tools} \label{autotool}
Following tools are used to verify the Truss software:
\begin{itemize}
	\item System testing:
	\item Unit testing: Pytest will be implemented for automated unit testing. 
	More details can be found in Section \ref{unitdescript}.
	\item Code coverage: Coverage.py automatically measure code coverage of 
	programs when executing the python scripts.
	\item Code linting: Pylint and flake8 will be implemented to check against 
	coding standard and analyze the source code for potential errors, such as 
	syntax errors and structural problems.  
	\item Continuons Integration: Travis CI is used to verify the code in 
	conjunction with \href{https://github.com/JacquesCarette/Drasil}{Drasil}.
\end{itemize}

\subsection{Software Validation Plan} \label{sftwareplan}
The software will be validated by testing the correctness of outputs, which is 
covered in section \ref{outverify}.

\section{System Test Description} \label{sysdescript}
	
\subsection{Tests for Functional Requirements} \label{testfr}
The functional requirements are described in the 
\href{https://github.com/tingyuw/cas741/blob/master/docs/SRS/SRS.pdf}{SRS}. 
Truss shall verify that the inputs are valid and the calculated outputs are 
correct. FR1 and FR2 will be tested in section \ref{inverify}. FR3 and FR4 will 
be tested in section \ref{outverify}.

\subsubsection{Input Verification} \label{inverify}
According to FR1 and FR2 in the 
\href{https://github.com/tingyuw/cas741/blob/master/docs/SRS/SRS.pdf}{SRS}, 
Truss shall take inputs from users and verify whether the inputs meet the data 
constraints, as described in the section 4.2.6 in 
\href{https://github.com/tingyuw/cas741/blob/master/docs/SRS/SRS.pdf}{SRS}. If 
the input values are incorrect or out of bounds, the software shall display an 
error message.
		
\paragraph{Input Verification test}

\begin{enumerate}
\begin{table}[h]
	\begin{tabular}{l|ccccc|ccc}
		\toprule
		\multicolumn{1}{l}{}   & \multicolumn{5}{c}{Input}  & 
		\multicolumn{1}{c}{Output}\\     
		\midrule \multicolumn{1}{c}{TestID} & $F_1$ (\si{\newton})& $x_1$ 
		(\si{\metre}) & $x_2$ (\si{\metre}) & $\theta_1$ (\textdegree) & 
		\multicolumn{1}{c}{$\theta_2$(\textdegree)} & Error	message \\ 
		\midrule
		TC-1-1 & 500    & 3.0    & 3.0    & 45    & 45    & - \\
		TC-2-1 & -100001& 3.0    & 3.0    & 45    & 45    & $F_1$ is 
		out of bounds. \\
		TC-2-2 & 100001 & 3.0    & 3.0    & 45    & 45    & $F_1$ is 
		out of bounds. \\
		TC-3-1 & 500    & 0 	 & 3.0    & 45    & 45    & $x_1$ is 
		out of bounds. \\
		TC-3-2 & 500    & -1  	 & 3.0    & 45    & 45    & $x_1$ is 
		out of bounds. \\
		TC-3-3 & 500    & 100001 & 3.0	  & 45    & 45    & $x_1$ is 
		out of bounds. \\
		TC-3-4 & 500    & 3.0    & 0  	  & 45    & 45    & $x_2$ is 
		out of bounds. \\
		TC-3-5 & 500    & 3.0    & -1     & 45    & 45    & $x_2$ is 
		out of bounds. \\
		TC-3-6 & 500    & 3.0    & 100001 & 45    & 45    & $x_2$ is 
		out of bounds. \\
		TC-4-1 & 500    & 3.0    & 3.0    & 0     & 45    & $\theta_1$ is 
		out of bounds. \\
		TC-4-2 & 500    & 3.0    & 3.0    & -1    & 45 	  & $\theta_1$ is 
		out of bounds. \\
		TC-4-3 & 500    & 3.0    & 3.0    & 90    & 45    & $\theta_1$ is 
		out of bounds. \\
		TC-4-4 & 500    & 3.0    & 3.0    & 45    & 0     & $\theta_2$ is 
		out of bounds. \\ 
		TC-4-5 & 500    & 3.0    & 3.0    & 45    & -1    & $\theta_2$ is 
		out of bounds. \\
		TC-4-6 & 500    & 3.0    & 3.0    & 45    & 90    & $\theta_2$ is 
		out of bounds. \\ 
		\bottomrule
	\end{tabular}
	\caption{Input parameters test}
	\label{TblInparamtest}
\end{table}

\item{Valid inputs\\}

Control: Automatic

Initial State: Truss is started and running

Input: Test case TC-1-1

Output: Generate an output.txt file and display derived calculated values 
$F_\text{Ax}$, $F_\text{Ay}$, and $F_\text{By}$

Test Case Derivation: Successfully generate an output file and verify the 
output values. Output correctness test is in section \ref{outverify}

How test will be performed: It will be performed by test classes built with 
the help of Pytest

\item{Invalid external force\\}

Control: Automatic

Initial State: Truss is started and running

Input: Test cases TC-2-1 and TC-2-2

Output: A specific error message of each test case showned in 
Table \ref{TblInparamtest}

Test Case Derivation: Successfully display the error message

How test will be performed: It will be performed by test classes built with 
the help of Pytest

\item{Invalid distance\\}

Control: Automatic
					
Initial State: Truss is started and running
					
Input: Test cases from TC-3-1 to TC-3-6
					
Output: A specific error message of each test case showned in 
Table \ref{TblInparamtest}

Test Case Derivation: Successfully display the error message

How test will be performed: It will be performed by test classes built with 
the help of Pytest

\item{Invalid angle\\}

Control: Automatic

Initial State: Truss is started and running

Input: Test cases from TC-4-1 to TC-4-6

Output: A specific error message of each test case showned in 
Table \ref{TblInparamtest}

Test Case Derivation: Successfully display the error message

How test will be performed: It will be performed by test classes built with 
the help of Pytest

\end{enumerate}

\subsubsection{Output Verification} \label{outverify}
According to FR3 and FR4 in the 
\href{https://github.com/tingyuw/cas741/blob/master/docs/SRS/SRS.pdf}{SRS}, 
Truss shall calculate equations and output the values for all internal forces. 

\paragraph{Output correctness test}

\begin{enumerate}
	
	\item{Simple case\\}
	
	Control: Automatic
	
	Initial State: Truss is started and running
	
	Input: Test case TC-1-1
	
	Output: $F_{AC} = -353.553 \si{\newton}$, $F_{AD} = 250.0 \si{\newton}$, 
	$F_{BC} = -353.553 \si{\newton}$, $F_{BD} = 250.0 \si{\newton}$, $F_{CD} = 
	500.0 \si{\newton}$, and stress distribution of each force
	
	Test Case Derivation: Compare the output with which generated from
	\href{https://skyciv.com/free-truss-calculator/}{Truss Calculator}. A 
	relative error of 1\% is applicable
	
	How test will be performed: It will be performed by test classes built with 
	the help of Pytest
	
	\item{Correctness of other input sets\\}
	
	Control: Automatic
	
	Initial State: Truss is started and running
	
	Input: Valid input sets
	
	Output: An outputfile with calculated internal forces
	
	Test Case Derivation: Compare the output with which generated from
	\href{https://skyciv.com/free-truss-calculator/}{Truss Calculator}. A 
	relative error of 1\% is applicable
	
	How test will be performed: It will be performed by test classes built with 
	the help of Pytest
\end{enumerate}

\subsection{Tests for Nonfunctional Requirements} \label{testnfr}
The nonfunctional requirements are described in the 
\href{https://github.com/tingyuw/cas741/blob/master/docs/SRS/SRS.pdf}{SRS}. All 
the qualities of Truss will be tested in the following section. Some 
requirements can be measured by the grade sheet, such as table 
\ref{Undgradesheet} for understandability. In some cases a superscript * is 
used to indicate that a response of this type should be accompanied by 
explanatory text~\cite{Smithetal2018}.\\
NFR1 correctness and NFR2 verifiability will be tested in section \ref{candv}. 
NFR3 understandability, NFR4 portability, NFR5 maintainability, and NFR6 
reliability will be tested in section \ref{under}, section \ref{port}, section 
\ref{main}, and section \ref{reliab}, respectively.


\subsubsection{Accuracy and Verifiability} \label{candv}
The accuracy test covers the NFR1, and the verifiability test covers the
NFR2. Both tests are to ensure that the software meets the SRS, and they can 
be assess through this document.
		
\subsubsection{Understandability} \label{under}
The understandability test covers the NFR3.
\paragraph{Understandability test}

\begin{enumerate}

\item{Code review\\}

Type: Manual
					
Initial State: Not applicable
					
Input/Condition: Review the source code
					
Output/Result: How easy can a new developer understand the source code
					
How test will be performed: After reading the source code, understandability 
can be measured by the grade sheet in Table \ref{Undgradesheet}. The test will 
be performed by test team manually

\end{enumerate}

\begin{longtable}{l l}
	\begin{tabular}{l l} 
	\toprule		
	\textbf{Questions} & \textbf{Answer set}\\
	\midrule 
	Consistent indentation and formatting style? & \{yes, no, n/a\}\\
	Explicit identification of a coding standard? & \{yes*, no, n/a\}\\
	Are the code identifiers consistent, distinctive, and meaningful? & \{yes, 
	no*, n/a\} \\
	Are constants (other than 0 and 1) hard-coded into the program? & \{yes, 
	no*, n/a\} \\
	Comments are clear, indicate what is being done, not how? & \{yes, no*, 
	n/a\} \\
	Is the name/URL of any algorithms used mentioned? & \{yes, no*, n/a\} \\
	Parameters are in the same order for all functions? & \{yes, no*, n/a\} \\
	Is code modularized? & \{yes, no*, n/a\} \\
	Descriptive names of source code files? & \{yes, no*, n/a\} \\
	Is a design document provided? & \{yes*, no, n/a\} \\
	Overall impression? & \{1 .. 10\} \\
	\bottomrule
	\caption{Understandability grade sheet} \label{Undgradesheet} \\
\end{tabular}\\
\end{longtable}

\subsubsection{Portability} \label{port}
The portability test covers the NFR4.
\paragraph{Portability test}

\begin{enumerate}
	
	\item{Portability on Windows system\\}
	
	Type: Manual
	
	Initial State: Truss has been successfully installed on a Windows system
	
	Input/Condition: Perform basic functions of the software and implement 
	it in Drasil
	
	Output/Result: Successfully perform the functions and generate the SRS and 
	code in Drasil
	
	How test will be performed: Execute python test scripts, verify the test 
	case TC-1-1 passes and check the generated documents exist. The test will 
	be performed by test team manually
	
	\item{Portability on Linux system\\}
	
	Type: Manual
	
	Initial State: Truss has been successfully installed on a Linux system
	
	Input/Condition: Perform basic functions of the software and implement 
	it in Drasil
	
	Output/Result:Successfully perform the functions and generate the SRS and 
	code in Drasil
	
	How test will be performed: Execute python test scripts, verify the test 
	case TC-1-1 passes and check the generated documents exist. The test will 
	be performed by test team manually
	
		
	\item{Portability on MacOS system\\}
	
	Type: Manual
	
	Initial State: Truss has been successfully installed on a MacOS system
	
	Input/Condition: Perform basic functions of the software and implement 
	it in Drasil
	
	Output/Result: Successfully perform the functions and generate the SRS and 
	code in Drasil
	
	How test will be performed: Execute python test scripts, verify the test 
	case TC-1-1 passes and check the generated documents exist. The test will 
	be performed by test team manually

\end{enumerate}

\subsubsection{Maintainability} \label{main}
The maintainability test covers the NFR5.
\paragraph{Maintainability test}

\begin{enumerate}
	
	\item{Version control\\}
	
	Type: Manual
	
	Initial State: Not applicable
	
	Input/Condition: Existing Truss system
	
	Output/Result: Multiple versions of the system
	
	How test will be performed: Check the effectiveness of version control and 
	the completeness of the documents of multiple versions of the software. It 
	will be	performed by the test team manually
	
	\item{Issue tracking\\}
	
	Type: Manual
	
	Initial State: Not applicable
	
	Input/Condition: Existing Truss system
	
	Output/Result: Implementing issue tracking on GitHub
	
	How test will be performed: Check whether the bugs, problems, and tasks for 
	the system are well-organized on the GitHub issues. It will be	performed 
	by the test team manually
	
\end{enumerate}

\subsubsection{Reliability} \label{reliab}
The reliability test covers the NFR6.
\paragraph{Reliability test}

\begin{enumerate}
	
	\item{Software running\\}
	
	Type: Manual
	
	Initial State: Not applicable
	
	Input/Condition: Existing Truss system
	
	Output/Result: Successfully operate the software
	
	How test will be performed: Test team will run the software manually to 
	check whether it breaks during installation and operation
	
	\item{Performance time\\}
	
	Type: Manual
	
	Initial State: Not applicable
	
	Input/Condition: Truss is started and running
	
	Output/Result: Time duration of the software to perform required functions
	
	How test will be performed: Test team will calculate the execution time and 
	analyze whether it is reasonable. The test will be performed by test team 
	manually
	
\end{enumerate}

\subsection{Traceability Between Test Cases and Requirements}

\begin{table}[h!]
	\centering
	\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|c|}
		\hline
		& R1 & R2 & R3 & R4 & R5 & NFR1 & NF2 & NF3 & NF4 & NF5 &NF6\\
		\hline
		\ref{inverify}    &X &X & & & &X & & & & &\\ \hline
		\ref{outverify}   & & &X &X &X &X & & & & &\\ \hline
		\ref{candv}       & & & & &X &X &X & & & &\\ \hline
		\ref{under}       & & & & & & & &X & & &\\ \hline
		\ref{port}        & & & & & & & & &X & &\\ \hline
		\ref{main}        & & & & & & & & & &X &\\ \hline
		\ref{reliab}      & & & & & & & & & & &X\\ \hline
	\end{tabular}
	\caption{Traceability Between Test Cases and Requirements}
	\label{Table:A_trace}
\end{table}





\section{Unit Test Description} \label{unitdescript}

\subsection{Unit Testing Scope}

\wss{What modules are outside of the scope.  If there are modules that are
  developed by someone else, then you would say here if you aren't planning on
  verifying them.  There may also be modules that are part of your software, but
  have a lower priority for verification than others.  If this is the case,
  explain your rationale for the ranking of module importance.}

\subsection{Tests for Functional Requirements}
The purpose of the unit test is to ensure that each module is behaving 
accurately and that each module is satisfying the 
\href{https://github.com/tingyuw/cas741/blob/master/docs/SRS/SRS.pdf}{SRS} 
requirements.

\subsubsection{Input Parameters Module} \label{inParam}
The following tests are created to ensure that the input parameters validate 
the user input sets. This first step is critical as all of the other
modules rely on these parameters.

\begin{enumerate}
\item{Input parameter\\}
	
	Type: Automatic
	
	Initial State: Truss is started and running
	
	Input: import input.txt 
	
	Output: assert = True
	
	Test Case Derivation: The parameters inputted by the user should match the
	state variable from InputParameters. An assert statement will return True 
	if these are equal
	
	How test will be performed: It will be performed by test classes built with 
	the help of Pytest
\end{enumerate}

\subsubsection{Input Constraints Module} \label{inConst}
The following tests are created to ensure that the system can successfully 
verify the validation of inputs. The system should do the calculations if valid 
parameters are given, and display error messages if invalid ones are given.

\begin{enumerate}

\item{Valid parameter\\}

Type: Automatic
					
Initial State: Truss is started and running
					
Input: import input.txt with valid input sets
					
Output: assert = True

Test Case Derivation: The system should generate an output file with the 
internal forces displayed. An assert statement will return True if the input 
parameters satisfy the constraints

How test will be performed: It will be performed by test classes built with the 
help of Pytest
					
\item{Invalid parameter\\}

Type: Automatic
					
Initial State: Truss is started and running
					
Input: testcase\_invalidforce.txt, testcase\_invaliddistance.txt, 
testcase\_invalidangle.txt
					
Output: assert = True

Test Case Derivation: Invalid inputs will be inputed to the system. It should 
display the correct error message. An assert statement will return True if the 
system successfully detects the invalid inputs 

How test will be performed: It will be performed by test classes built with the 
help of Pytest

\end{enumerate}

\subsubsection{Calculation Module} \label{calculation}
The module should do the calculations to solve the internal forces. The 
following tests are created to check the correctness of the solutions by 
comparing them with expected outputs. 

\begin{enumerate}
	
	\item{Calculation\\}
	
	Type: Automatic
	
	Initial State: Truss is started and running
	
	Input: import input.txt with valid input sets
	
	Output: assert = True
	
	Test Case Derivation: Outputs of the system should match the values 
	calculated by an online software, 
	\href{https://skyciv.com/free-truss-calculator/}{Truss 
	Calculator}. An assert statement will return True if the relative error 
	between calculated outputs and expected outputs is within 1\%
	
	How test will be performed: It will be performed by test classes built with 
	the help of Pytest
	
\end{enumerate}

\subsubsection{Output Module} \label{output}
The module should do the calculations to solve the internal forces. The 
following tests are created to check the correctness of the solutions by 
comparing them with expected outputs. 

\begin{enumerate}
	
	\item{Output\\}
	
	Type: Maunal
	
	Initial State: Truss is started and running
	
	Input: import input.txt with valid input sets
	
	Output: Generate output.txt file 
	
	Test Case Derivation: Outputs should include all the calculated internal 
	forces and stress distribution of each force
	
	How test will be performed: Unit test will call the function with valid
	inputs, and check if the output.txt file is generated in the project folder
	
\end{enumerate}

\subsection{Tests for Nonfunctional Requirements}
Testing nonfunctional requirements of units is not required for Truss. Tests 
for nonfunctional requirements of system are introduced in section 
\ref{testnfr}.

\subsection{Traceability Between Test Cases and Modules}
The purpose of the traceability matrices is to provide easy references on what
has to be additionally modified if a certain component is changed. Table 
\ref{Tbltrace} shows the dependencies between the test cases and the 
requirements.

\begin{table}[h!]
	\centering
	\begin{tabular}{l l} 
		\toprule		
		\textbf{Test Cases} & \textbf{Modules}\\
		\midrule 
		\ref{inParam} & Input Parameters Module\\
		\ref{inConst} & Input Constraints Module\\
		\ref{calculation} & Calculation Module\\
		\ref{output} & Output Module \\
		\bottomrule
	\end{tabular}\\

	\caption{Traceability Matrix of the connections between modules and
	tests} 
	\label{Tbltrace}
\end{table}
				
\newpage

\nocite{*}
\bibliographystyle {plainnat}
\bibliography {ref}

%\newpage


%\section{Appendix}

%This is where you can place additional information.

%\subsection{Symbolic Parameters}

%The definition of the test cases will call for SYMBOLIC\_CONSTANTS.
%Their values are defined in this section for easy maintenance.

%\subsection{Usability Survey Questions?}

%\wss{This is a section that would be appropriate for some projects.}


\end{document}
